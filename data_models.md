# Модели данных

## User (Пользователь)
Поле | Тип | Описание
-|-|-
id | NUMBER | Уникальный ID пользователя
username | STRING | Псевдоним
surname | STRING | Фамилия
name | STRING | Имя
rooms | ARRAY | Массив ID чат-комнат

```json
{
    id:       NUMBER,
    username: STRING,
    surname:  STRING,
    name:     STRING,
    rooms: [
        NUMBER, ..., NUMBER
    ]
}
```
> Список чат-комнат должет фильтроваться, если информация о пользователе была запрошена другим пользователем
> Кто запрашивает | Видимость приватных чат-комнат | Примечание
> -|-|-
> Сам пользователь | Да |
> Участник частной чат-комнаты | Частично | Только те приватные чат-комнаты, в которых состоит запрашивающий
> Прочие | Нет |


## Chatroom (Чат-комната)
Поле | Тип | Описание
-|-|-
id | NUMBER | Уникальный ID чат-комнаты
title | STRING | Название чат-комнаты
private | BOOL | Признак частной (закрытой) чат-комнаты
adminID | NUMBER | ID пользователя (администратора) частной (закрытой) чат-комнаты

```json
{
    id:      NUMBER,
    title:   STRING,
    private: BOOL,
    adminID: NUMBER
}
```

## Message (Сообщение)
Поле | Тип | Описание
-|-|-
id | NUMBER | Уникальный ID сообщения
roomId | NUMBER | ID чат-комнаты
userId | NUMBER | ID пользователя (автора)
type | NUMBER | Тип сообщения
content | STRING | Текст, ссылка или Base64-кодированное содержимое
timestamp | NUMBER | Метка времени

```json
{
    id:        NUMBER,
    roomId:    NUMBER,
    userId:    NUMBER,
    type:      NUMBER,
    content:   STRING,
    timestamp: NUMBER
}
```

### Типы сообщений
Значение | Описание
-|-
1 | Простой текст
2 | Файл
3 | Изображение
4 | Видео

## Session (Сессия)
Сессия используется для ведения списка авторизованных пользователей
Поле | Тип | Описание
-|-|-
Token | STRING | Уникальный идентификатор сессии
UserID | NUMBER | ID пользователя
Expires | NUMBER | Время действия токена

> JSON представление остутствует, т.е. сессия используется только на сервере